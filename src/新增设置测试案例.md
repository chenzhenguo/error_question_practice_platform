## 十、设置功能测试案例

### TC031：答对自动下一题设置测试
测试目的：验证“答对自动下一题”设置的功能
前置条件：题库中有足够的单选题；进入任一练习模式（如顺序练习）

测试步骤：
1. 在练习界面打开设置栏，勾选“答对自动下一题”
2. 选择一个你确定答案的题目并作答正确
3. 观察是否自动跳转到下一题
4. 取消勾选“答对自动下一题”，再答对一题

预期结果：
- 勾选时答对后约0.5秒自动跳转到下一题，且保留当前题目作答和高亮状态后跳转
- 取消勾选后，答对不再自动跳转，仍需点击“下一题”按钮

### TC032：背题模式开关测试（设置层）
测试目的：验证设置栏中的“开启背题模式”可覆盖当前练习模式
前置条件：进入顺序练习模式

测试步骤：
1. 在设置栏勾选“开启背题模式”
2. 观察按钮与答案区域的变化
3. 选择一个选项，确认是否立即判定与显示解析
4. 点击“查看答案”按钮查看解析
5. 取消勾选“开启背题模式”，再选择选项

预期结果：
- 勾选后：隐藏“下一题”按钮，显示“查看答案”按钮；默认隐藏答案区域；选择选项后不会立即显示解析
- 点击“查看答案”后显示正确答案与解析
- 取消勾选后：恢复显示“下一题”按钮；选择选项后立即显示解析

### TC033：选项乱序开关测试
测试目的：验证“选项乱序”对所有练习模式的影响
前置条件：进入顺序练习模式，且有选项内容明显可区分的题目

测试步骤：
1. 取消勾选“选项乱序”，记录某一题的选项顺序
2. 切换到下一题再返回上一题，检查选项顺序是否保持不变
3. 勾选“选项乱序”，重新加载同一题（可通过上一题/下一题切换）
4. 对比选项顺序是否被打乱

预期结果：
- 关闭开关时：选项按题目原始顺序显示，不随模式或刷新改变
- 开启开关时：进入题目时随机打乱选项顺序；随机练习模式下无论开关如何都支持打乱

### TC034：自动跳转与手动下一题防抖测试
测试目的：验证答对后自动跳转与手动点击“下一题”不会产生双重跳转
前置条件：开启“答对自动下一题”，进入任意非背题模式

测试步骤：
1. 选择正确答案后，立即快速点击“下一题”按钮
2. 观察是否仅前进一题（不会出现跳过一题的情况）

预期结果：
- 仅前进一题；不会出现连续两次跳转

### TC035：设置持久化恢复测试
测试目的：验证设置开关状态在刷新后是否能正确恢复
前置条件：无

测试步骤：
1. 修改三个开关的状态（例如：开启自动下一题、开启背题模式、关闭选项乱序）
2. 刷新页面
3. 再次进入练习界面，观察设置栏开关状态

预期结果：
- 开关状态与刷新前保持一致

## 附：设置功能测试-日志记录与故障排查指南（简版）
- 执行 TC031~TC035 时，请打开浏览器控制台（F12 → Console），观察 error/warn/log
- 若遇到问题，请记录：浏览器/设备、练习模式、三项设置状态、题目编号、操作序列、期望 vs 实际、控制台日志与截图
- 常见排查：
  - 双跳/误跳：检查 autoNextTimerId 是否被及时清理（showAnswer/nextQuestion/endPractice）
  - 乱序异常：核对 shouldShuffleOptions 判定（随机模式当前固定乱序）
  - 背题模式：确认 isMemorizeActive 判定，以及“查看答案/下一题”按钮显隐
  - 持久化：查看 localStorage.practiceSettings 值是否与 UI 状态一致